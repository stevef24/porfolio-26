---
title: Hooks & Automation
description: Add guardrails and automation with lifecycle hooks.
duration: 30m
module: Power Features
order: 10
---

## Hooks = Event-Driven Automation

Hooks are scripts or prompts that run when Claude Code reaches specific lifecycle events. They're how you automate guardrails without babysitting every action.

## The Core Events (Most Useful)

- `PreToolUse` - before a tool runs (can block)
- `PostToolUse` - after a tool succeeds
- `PostToolUseFailure` - after a tool fails
- `Stop` - after Claude finishes responding
- `PreCompact` - before context compaction

There are more, but these cover most workflows.

## Example: Block Dangerous Commands

`.claude/hooks/block-dangerous.sh`

```bash
#!/bin/bash
COMMAND=$(jq -r '.tool_input.command')
if echo "$COMMAND" | grep -q 'rm -rf'; then
  jq -n '{
    hookSpecificOutput: {
      hookEventName: "PreToolUse",
      permissionDecision: "deny",
      permissionDecisionReason: "Destructive command blocked"
    }
  }'
else
  exit 0
fi
```

Register it:

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          { "type": "command", "command": ".claude/hooks/block-dangerous.sh" }
        ]
      }
    ]
  }
}
```

<Callout type="info" title="Don't over-automate">
Hooks are powerful, but they can slow you down if they run too often. Keep them fast and narrow.
</Callout>

## Key Takeaways

- Hooks trigger on lifecycle events
- `PreToolUse` is your safety net
- Keep hooks fast and focused
